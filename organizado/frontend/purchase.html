<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BOSS SHOPP - Finalizar Compra</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-top">
                <div class="header-links">
                    <a href="#" class="header-link">Vendedor</a>
                    <a href="#" class="header-link">Download</a>
                    <a href="#" class="header-link">Conecte-se</a>
                </div>
                <div class="header-social">
                    <a href="#" class="social-link"><i class="fab fa-facebook"></i></a>
                    <a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
                    <a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
                </div>
            </div>
        </div>
    </header>

    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <div class="nav-content">
                <div class="logo">
                    <a href="index.html">
                        <img src="boss-shop-logo.png" alt="BOSS SHOPP" class="logo-image">
                    </a>
                </div>
                
                <div class="search-container">
                    <input type="text" class="search-input" placeholder="Busque por produtos, marcas e muito mais...">
                    <button class="search-btn"><i class="fas fa-search"></i></button>
                </div>
                
                <div class="nav-icons">
                    <a href="login.html" class="nav-icon" id="userIcon">
                        <i class="fas fa-user"></i>
                        <span id="userText">Entrar</span>
                    </a>
                    <a href="favorites.html" class="nav-icon">
                        <i class="fas fa-heart"></i>
                        <span>Favoritos</span>
                    </a>
                    <a href="#" class="nav-icon cart-icon">
                        <i class="fas fa-shopping-cart"></i>
                        <span>Carrinho</span>
                        <span class="cart-count">0</span>
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Category Tabs -->
    <section class="category-tabs">
        <div class="container">
            <div class="tabs-header">
                <h2>Categorias em Destaque</h2>
            </div>
            <div class="tabs-container">
                <button class="tab-btn" data-category="home">Início</button>


                
                <button class="tab-btn" data-category="moda">Moda</button>
                <button class="tab-btn" data-category="eletronicos">Eletrônicos</button>
                <button class="tab-btn" data-category="casa">Casa</button>
                <button class="tab-btn" data-category="games">Games</button>
                <button class="tab-btn" data-category="esportes">Esportes</button>
                <button class="tab-btn" data-category="infantil">Infantil</button>
            </div>
            
            <!-- Tab Contents -->
            <div class="tab-contents-container">
                <div class="view-all-container">
                    <p>Veja produtos de outras categorias clicando nas abas acima</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Purchase Content -->
    <section class="purchase-section">
        <div class="container">
            <div class="section-header">
                <h3><i class="fas fa-shopping-cart"></i> Finalizar Compra</h3>
                <p class="section-description">Complete seu pedido em poucos passos simples</p>
                <div class="section-badge">
                    <i class="fas fa-shield-alt"></i> Compra 100% segura
                </div>
            </div>
            
            <div class="purchase-content">
                <div class="purchase-steps">
                    <div class="step active" id="step1">
                        <div class="step-number">1</div>
                        <div class="step-title">Carrinho</div>
                        <div class="step-subtitle">Revise seus itens</div>
                    </div>
                    <div class="step" id="step2">
                        <div class="step-number">2</div>
                        <div class="step-title">Dados</div>
                        <div class="step-subtitle">Endereço de entrega</div>
                    </div>
                    <div class="step" id="step3">
                        <div class="step-number">3</div>
                        <div class="step-title">Pagamento</div>
                        <div class="step-subtitle">Método de pagamento</div>
                    </div>
                    <div class="step" id="step4">
                        <div class="step-number">4</div>
                        <div class="step-title">Confirmação</div>
                        <div class="step-subtitle">Pedido confirmado</div>
                    </div>
                </div>
                
                <!-- Step 1: Cart Review -->
                <div class="purchase-form step-content active" id="cart-step">
                    <div class="form-section">
                        <h4><i class="fas fa-shopping-cart"></i> Revisar Carrinho</h4>
                        <div class="items-summary" id="cartItems">
                            <!-- Cart items will be populated by JavaScript -->
                        </div>
                        
                        <div class="cart-total">
                            <strong>Total: R$ <span id="cartTotal">0,00</span></strong>
                        </div>
                        
                        <div class="actions">
                            <button class="cta-button" onclick="nextStep(2)">
                                <i class="fas fa-arrow-right"></i> Continuar
                            </button>
                            <button class="checkout-btn" onclick="continueShopping()">
                                <i class="fas fa-shopping-bag"></i> Continuar Comprando
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Step 2: Address Information -->
                <div class="purchase-form step-content" id="address-step">
                    <div class="form-section">
                        <h4><i class="fas fa-map-marker-alt"></i> Informações de Envio</h4>
                        <form id="addressForm">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="cep">CEP</label>
                                    <div class="input-wrapper">
                                        <input type="text" id="cep" name="cep" placeholder="00000-000" required oninput="formatCEP(this)">
                                        <button type="button" class="search-btn" onclick="searchCEP()">
                                            <i class="fas fa-search"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="street">Rua</label>
                                    <input type="text" id="street" name="street" placeholder="Nome da rua" required>
                                </div>
                                <div class="form-group">
                                    <label for="number">Número</label>
                                    <input type="text" id="number" name="number" placeholder="Número" required>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="complement">Complemento</label>
                                    <input type="text" id="complement" name="complement" placeholder="Apartamento, bloco, etc.">
                                </div>
                                <div class="form-group">
                                    <label for="neighborhood">Bairro</label>
                                    <input type="text" id="neighborhood" name="neighborhood" placeholder="Bairro" required>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="city">Cidade</label>
                                    <input type="text" id="city" name="city" placeholder="Cidade" required>
                                </div>
                                <div class="form-group">
                                    <label for="state">Estado</label>
                                    <select id="state" name="state" required>
                                        <option value="">Selecione</option>
                                        <option value="AC">Acre</option>
                                        <option value="AL">Alagoas</option>
                                        <option value="AP">Amapá</option>
                                        <option value="AM">Amazonas</option>
                                        <option value="BA">Bahia</option>
                                        <option value="CE">Ceará</option>
                                        <option value="DF">Distrito Federal</option>
                                        <option value="ES">Espírito Santo</option>
                                        <option value="GO">Goiás</option>
                                        <option value="MA">Maranhão</option>
                                        <option value="MT">Mato Grosso</option>
                                        <option value="MS">Mato Grosso do Sul</option>
                                        <option value="MG">Minas Gerais</option>
                                        <option value="PA">Pará</option>
                                        <option value="PB">Paraíba</option>
                                        <option value="PR">Paraná</option>
                                        <option value="PE">Pernambuco</option>
                                        <option value="PI">Piauí</option>
                                        <option value="RJ">Rio de Janeiro</option>
                                        <option value="RN">Rio Grande do Norte</option>
                                        <option value="RS">Rio Grande do Sul</option>
                                        <option value="RO">Rondônia</option>
                                        <option value="RR">Roraima</option>
                                        <option value="SC">Santa Catarina</option>
                                        <option value="SP">São Paulo</option>
                                        <option value="SE">Sergipe</option>
                                        <option value="TO">Tocantins</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="actions">
                                <button type="button" class="cta-button" onclick="nextStep(3)">
                                    <i class="fas fa-arrow-right"></i> Continuar
                                </button>
                                <button type="button" class="checkout-btn" onclick="prevStep(1)">
                                    <i class="fas fa-arrow-left"></i> Voltar
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
                
                <!-- Step 3: Payment Information -->
                <div class="purchase-form step-content" id="payment-step">
                    <div class="form-section">
                        <h4><i class="fas fa-credit-card"></i> Forma de Pagamento</h4>
                        <form id="paymentForm">
                            <div class="form-group">
                                <label for="paymentMethod">Método de Pagamento</label>
                                <select id="paymentMethod" name="paymentMethod" onchange="togglePaymentFields()" required>
                                    <option value="">Selecione uma opção</option>
                                    <option value="credit">Cartão de Crédito</option>
                                    <option value="debit">Cartão de Débito</option>
                                    <option value="boleto">Boleto Bancário</option>
                                    <option value="pix">PIX</option>
                                </select>
                            </div>
                            
                            <div id="cardFields" style="display: none;">
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="cardNumber">Número do Cartão</label>
                                        <input type="text" id="cardNumber" name="cardNumber" placeholder="0000 0000 0000 0000" maxlength="19" oninput="formatCardNumber(this)">
                                    </div>
                                    <div class="form-group">
                                        <label for="cardName">Nome no Cartão</label>
                                        <input type="text" id="cardName" name="cardName" placeholder="Nome como impresso no cartão">
                                    </div>
                                </div>

                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="expiryDate">Validade (MM/AA)</label>
                                        <input type="text" id="expiryDate" name="expiryDate" placeholder="MM/AA" maxlength="5" oninput="formatExpiryDate(this)">
                                    </div>
                                    <div class="form-group">
                                        <label for="cvv">CVV</label>
                                        <input type="text" id="cvv" name="cvv" placeholder="123" maxlength="4" oninput="validateCVV(this)">
                                    </div>
                                </div>
                                
                                <div class="form-group">
                                    <label for="installments">Parcelas</label>
                                    <select id="installments" name="installments">
                                        <option value="1">1x de R$ <span id="installmentValue">0,00</span> (sem juros)</option>
                                        <option value="2">2x de R$ <span id="installmentValue2">0,00</span> (sem juros)</option>
                                        <option value="3">3x de R$ <span id="installmentValue3">0,00</span> (sem juros)</option>
                                        <option value="4">4x de R$ <span id="installmentValue4">0,00</span> (sem juros)</option>
                                        <option value="5">5x de R$ <span id="installmentValue5">0,00</span> (sem juros)</option>
                                        <option value="6">6x de R$ <span id="installmentValue6">0,00</span> (sem juros)</option>
                                        <option value="7">7x de R$ <span id="installmentValue7">0,00</span> (sem juros)</option>
                                        <option value="8">8x de R$ <span id="installmentValue8">0,00</span> (sem juros)</option>
                                        <option value="9">9x de R$ <span id="installmentValue9">0,00</span> (sem juros)</option>
                                        <option value="10">10x de R$ <span id="installmentValue10">0,00</span> (sem juros)</option>
                                        <option value="11">11x de R$ <span id="installmentValue11">0,00</span> (sem juros)</option>
                                        <option value="12">12x de R$ <span id="installmentValue12">0,00</span> (sem juros)</option>
                                    </select>
                                </div>
                            </div>
                            
                            <!-- PIX QR Code Section -->
                            <div id="pixFields" style="display: none; text-align: center;">
                                <div class="form-group">
                                    <label><i class="fas fa-qrcode"></i> QR Code PIX</label>
                                    <p>Escaneie o QR Code abaixo para pagar com PIX:</p>
                                    <div id="qrcode-container" style="margin: 20px auto; width: 200px; height: 200px; padding: 15px; background: white; border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.1);">
                                        <div id="qrcode" style="width: 100%; height: 100%;"></div>
                                    </div>
                                    <p><strong>Valor:</strong> R$ <span id="pixAmount">0,00</span></p>
                                    <p><small>PIX Copia e Cola:</small></p>
                                    <textarea id="pixCode" readonly style="width: 100%; height: 60px; padding: 10px; font-size: 12px; resize: none; border: 1px solid #ddd; border-radius: 5px;"></textarea>
                                    <button type="button" class="cta-button" onclick="copyPixCode()" style="margin-top: 10px;">
                                        <i class="fas fa-copy"></i> Copiar Código PIX
                                    </button>
                                </div>
                            </div>
                            
                            <div class="actions">
                                <button type="button" class="cta-button" onclick="nextStep(4)">
                                    <i class="fas fa-check"></i> Confirmar Pedido
                                </button>
                                <button type="button" class="checkout-btn" onclick="prevStep(2)">
                                    <i class="fas fa-arrow-left"></i> Voltar
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
                
                <!-- Step 4: Order Confirmation -->
                <div class="purchase-form step-content" id="confirmation-step">
                    <div class="form-section">
                        <h4><i class="fas fa-check-circle"></i> Pedido Confirmado</h4>
                        <p class="confirmation-message">Seu pedido foi confirmado com sucesso!</p>
                        
                        <div class="order-summary">
                            <h5>Resumo do Pedido</h5>
                            <div class="summary-item">
                                <span>Número do Pedido:</span>
                                <span id="orderNumber">#BS123456789</span>
                            </div>
                            <div class="summary-item">
                                <span>Data:</span>
                                <span id="orderDate">13/10/2025</span>
                            </div>
                            <div class="summary-item">
                                <span>Total:</span>
                                <span>R$ <span id="orderTotal">0,00</span></span>
                            </div>
                            <div class="summary-item">
                                <span>Status:</span>
                                <span class="status confirmed">Confirmado</span>
                            </div>
                            <div class="summary-item">
                                <span>Método de Pagamento:</span>
                                <span id="paymentMethodDisplay">Cartão de Crédito</span>
                            </div>
                        </div>
                        
                        <div class="shipping-info">
                            <h5>Informações de Envio</h5>
                            <p><i class="fas fa-map-marker-alt"></i> <span id="shippingAddress">Rua Exemplo, 123 - Centro<br>
                            São Paulo - SP, 01234-567</span></p>
                        </div>
                        
                        <div class="items-summary" id="orderItems">
                            <!-- Order items will be populated by JavaScript -->
                        </div>
                        
                        <div class="actions">
                            <button class="cta-button" onclick="printReceipt()">
                                <i class="fas fa-print"></i> Imprimir Comprovante
                            </button>
                            <button class="checkout-btn" onclick="continueShopping()">
                                <i class="fas fa-shopping-bag"></i> Continuar Comprando
                            </button>
                            <button class="cta-button" onclick="showOrderHistory()">
                                <i class="fas fa-history"></i> Ver Histórico
                            </button>
                            <button class="cta-button" onclick="goToHome()">
                                <i class="fas fa-home"></i> Voltar ao Início
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>BOSS SHOPP</h4>
                    <p>Sua loja online com os melhores produtos e preços imperdíveis.</p>
                    <div class="footer-social">
                        <a href="#"><i class="fab fa-facebook"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
                
                <div class="footer-section">
                    <h4>Atendimento</h4>
                    <ul>
                        <li><a href="#">Central de Ajuda</a></li>
                        <li><a href="#">Como Comprar</a></li>
                        <li><a href="#">Frete e Entrega</a></li>
                        <li><a href="#">Devoluções</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>Sobre</h4>
                    <ul>
                        <li><a href="#">Nossa História</a></li>
                        <li><a href="#">Trabalhe Conosco</a></li>
                        <li><a href="#">Imprensa</a></li>
                        <li><a href="#">Investidores</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>Pagamento</h4>
                    <div class="payment-methods">
                        <i class="fab fa-cc-visa"></i>
                        <i class="fab fa-cc-mastercard"></i>
                        <i class="fab fa-cc-paypal"></i>
                        <i class="fas fa-money-bill"></i>
                    </div>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2024 BOSS SHOPP. Todos os direitos reservados.</p>
            </div>
        </div>
    </footer>

    <script src="purchase.js"></script>
    <script src="script.js"></script>
    <script src="https://cdn.rawgit.com/davidshimjs/qrcodejs/gh-pages/qrcode.min.js"></script>
    <script>
        // Tab functionality
        document.addEventListener('DOMContentLoaded', function() {
            const tabBtns = document.querySelectorAll('.tab-btn');
            
            tabBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    // Remove active class from all buttons
                    tabBtns.forEach(b => b.classList.remove('active'));
                    
                    // Add active class to clicked button
                    btn.classList.add('active');
                    
                    // Navigate to the corresponding category page
                    const category = btn.getAttribute('data-category');
                    let url;
                    switch(category) {
                        case 'home':
                            url = 'index.html';
                            break;
                        case 'moda':
                            url = 'categoria-moda.html';
                            break;
                        case 'eletronicos':
                            url = 'eletronicos.html';
                            break;
                        case 'casa':
                            url = 'casa.html';
                            break;
                        case 'games':
                            url = 'games.html';
                            break;
                        case 'esportes':
                            url = 'esportes.html';
                            break;
                        case 'infantil':
                            url = 'infantil.html';
                            break;
                        default:
                            url = 'index.html';
                    }
                    window.location.href = url;
                });
            });
            
            // Initialize purchase functionality
            initializePurchase();
        });
    </script>
    <script src="auth-utils.js"></script>
</body>
</html>